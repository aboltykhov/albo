# Итоговый проект: Al Bo

## Тема: настройка пары серверов или восстанволение

#############################################################

- Количество серверов: 3 шт.

- Используемая ОС: CentOS 8 (предварительно обновите ОС) 

- Используемая сеть: 10.0.0.0/24

- Основной сервер: 10.0.0.1/24

- Сервер-реплика: 10.0.0.2/24

- Сервер-замена : 10.0.0.3/24 

#############################################################

С каждого сервера проверяем SSH подключение: ssh username@ip_address -p 22

Устанавливаем и настраиваем GIT: sudo yum -y install git

Скачиваем репозиторий, например в /tmp: git clone https://github.com/aboltykhov/albo.git

#############################################################

- Каталог albo

#############################################################

- 0-elk-filebeat-nginx			#Подкаталог: стек elk

- 1-server-slave				#Подкаталог: сервер-реплика

- 2-server-master				#Подкаталог: основной сервер

- sql					      		#Подкаталог: sql-запросы 

#############################################################
#############################################################

Установка Сервер-реплика:

Заходим в подкаталог 1-server-slave

- ./0-selinux-off.sh				#Отключаем SELinux

Перезагружаемся,

Из подкаталога 1-server-slave запускаем скрипт ./1-new-sql-server-slave.sh

Установка проходит в полуавтоматическом режиме по нумерации скриптов из каталога,

Во время установки потребуется настроить компонент проверки пароля MySQL, 

Установите пароль User1589$

#############################################################

Внутри каталога albo/1-server-slave:

- 1-new-sql-server-slave.sh		#Установка СУБД MySQL c настриваемой репликацией master/slave

- 2-node-exporter-client-setup.sh	#Установка Node Exporter для сбора метрик сервера-реплики

- 3-docker-elk-nginx-setup.sh		#Установка стека (Elasticsearch/Logstash/Kibana), Filebeat для мониторинга nginx в Docker

#############################################################

Сервер-реплика: готов

#############################################################
#############################################################

Установка Основной сервер:

Заходим в подкаталог 2-server-master

- ./0-selinux-off.sh				#Отключаем SELinux

Перезагружаемся,

Из подкаталога 2-server-master запускаем скрипт  ./1-new-sql-server-master.sh

Установка будет проходить в полуавтоматическом режиме по нумерации скриптов из каталога,

Во время установки потребуется настроить компонент проверки пароля MySQL, 

Установите пароль User1589$

#############################################################

Внутри каталога albo/2-server-master:

- 1-new-sql-server-master.sh		#СУБД MySQL c настриваемой репликацией master/slave

- 2-httpd-php-wp-setup.sh		#Установка веб-сервера на базе LAMP, CMS WordPress

- 3-grafana-setup.sh				#Веб-приложение для визуализации мониторинга

- 4-prometheus.sh				#Установка Prometheus системы мониторинга 

- 5-alertm-setup.sh				#Установка Alertmanager для отправки уведоблений

- 6-node-exporter-setup.sh		#Установка Node Exporter для сбора метрик

- 7-targets-node-setup.sh			#Добавление хостов для мониторинга

#############################################################

Основной сервер: готов

#############################################################

Домашняя страница Kibana http://10.0.0.2:5601

- Имя пользовател: elastic

- Пароль: changeme

#############################################################
